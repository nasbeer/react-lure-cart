{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/eshop-page/src/pages/ProductDetails/ProductDetails.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { Redirect } from 'react-router-dom';\nimport _ from 'lodash';\nimport ReactImageMagnify from 'react-image-magnify';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport MySpinner from '../../components/MySpinner';\nimport { loadProduct } from '../../store/actions/productDetails';\nimport { likeProduct, unlikeProduct } from '../../store/actions/liked';\nimport { showToast, hideToast } from '../../store/actions/toast';\nimport { addProductToCart, removeProductFromCart } from '../../store/actions/cart';\nimport './styles.css';\n\nconst ProductDetails = ({\n  productDetails,\n  loadProduct,\n  match,\n  addProductToCart,\n  removeProductFromCart,\n  likeProduct,\n  unlikeProduct,\n  cart,\n  liked,\n  showToast,\n  hideToast\n}) => {\n  const product = productDetails.product,\n        isLoading = productDetails.isLoading,\n        error = productDetails.error;\n  useEffect(() => {\n    loadProduct(match.params.id);\n  }, []);\n\n  function toggleLike() {\n    if (!isLiked()) {\n      likeProduct(product);\n      showToast({\n        title: 'Notification',\n        text: 'You liked the product.'\n      });\n    } else {\n      unlikeProduct(product);\n      showToast({\n        title: 'Notification',\n        text: 'You unliked the product.'\n      });\n    }\n  }\n\n  function isLiked() {\n    const isLiked = liked.likedProducts.length > 0 && liked.likedProducts.find(p => p.id === product.id);\n    return isLiked;\n  }\n\n  function toggleAddProduct() {\n    if (!isAdded()) {\n      addProductToCart(product);\n      showToast({\n        title: 'Notification',\n        text: 'You added product to the cart.'\n      });\n    } else {\n      removeProductFromCart(product);\n      showToast({\n        title: 'Notification',\n        text: 'You removed product from the cart.'\n      });\n    }\n  }\n\n  function isAdded() {\n    const isAdded = cart.cartProducts.length > 0 && cart.cartProducts.find(p => p.product.id === product.id);\n    return isAdded;\n  }\n\n  if (error) return React.createElement(Redirect, {\n    to: '/error',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  });\n  if (isLoading) return React.createElement(MySpinner, {\n    key: 0,\n    text: 'Loading...',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }); //console.log(productDetails);\n\n  return product && React.createElement(\"div\", {\n    className: \"card mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row no-gutters\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"aside\", {\n    className: \"col-sm-5 border-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"main-img d-md-none\",\n    src: require(\"../../static/products/\".concat(product.image)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(ReactImageMagnify, Object.assign({\n    smallImage: {\n      alt: product.shortDescription,\n      isFluidWidth: true,\n      src: require(\"../../static/products/\".concat(product.image))\n    },\n    largeImage: {\n      src: require(\"../../static/products/\".concat(product.image)),\n      width: 1200,\n      height: 1200\n    },\n    enlargedImageContainerStyle: {\n      zIndex: 9,\n      backgroundColor: 'white',\n      objectFit: 'cover'\n    },\n    enlargedImageContainerDimensions: {\n      width: '150%',\n      height: '120%'\n    },\n    className: 'd-none d-md-block '\n  }, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })))), React.createElement(\"aside\", {\n    className: \"col-sm-7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"article\", {\n    className: \"p-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"title mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, product.name), React.createElement(\"div\", {\n    className: \"mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"var\", {\n    className: \"price h3 text-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"currency\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"US $\"), React.createElement(\"span\", {\n    className: \"num\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, product.price.toFixed(2)))), React.createElement(\"dl\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"dd\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, product.description))), React.createElement(\"dl\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"dt\", {\n    className: \"col-sm-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Model#\"), React.createElement(\"dd\", {\n    className: \"col-sm-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, product.modelNum), React.createElement(\"dt\", {\n    className: \"col-sm-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Color\"), React.createElement(\"dd\", {\n    className: \"col-sm-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, product.color), React.createElement(\"dt\", {\n    className: \"col-sm-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"Delivery\"), React.createElement(\"dd\", {\n    className: \"col-sm-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, product.delivery)), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"dl\", {\n    className: \"dlist-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"dt\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Weight: \"), React.createElement(\"dd\", {\n    className: \"pl-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"\".concat(product.weight, \" g\"))))), React.createElement(\"div\", {\n    className: \"col-sm-7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"dl\", {\n    className: \"dlist-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"dt\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Size: \"), React.createElement(\"dd\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"\".concat(product.size, \" cm\")))))), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: toggleLike,\n    className: isLiked() ? 'btn btn-success' : 'btn btn-primary',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, isLiked() ? 'Liked' : 'Like it'), React.createElement(\"button\", {\n    onClick: toggleAddProduct,\n    className: !isAdded() ? 'btn  btn-outline-primary' : 'btn  btn-outline-danger',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }), ' ', !isAdded() ? 'Add to Cart' : 'Added to Cart')))));\n};\n\nexport default connect(state => ({\n  productDetails: state.productDetailsReducer,\n  cart: state.cartReducer,\n  liked: state.likedReducer\n}), {\n  loadProduct,\n  addProductToCart,\n  removeProductFromCart,\n  likeProduct,\n  unlikeProduct,\n  showToast,\n  hideToast\n})(withRouter(ProductDetails));","map":{"version":3,"sources":["/Applications/MAMP/htdocs/eshop-page/src/pages/ProductDetails/ProductDetails.js"],"names":["React","useEffect","useState","useRef","connect","withRouter","Redirect","_","ReactImageMagnify","Row","Col","MySpinner","loadProduct","likeProduct","unlikeProduct","showToast","hideToast","addProductToCart","removeProductFromCart","ProductDetails","productDetails","match","cart","liked","product","isLoading","error","params","id","toggleLike","isLiked","title","text","likedProducts","length","find","p","toggleAddProduct","isAdded","cartProducts","require","image","smallImage","alt","shortDescription","isFluidWidth","src","largeImage","width","height","enlargedImageContainerStyle","zIndex","backgroundColor","objectFit","enlargedImageContainerDimensions","className","name","price","toFixed","description","modelNum","color","delivery","weight","size","state","productDetailsReducer","cartReducer","likedReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { Redirect } from 'react-router-dom';\nimport _ from 'lodash';\nimport ReactImageMagnify from 'react-image-magnify';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport MySpinner from '../../components/MySpinner';\n\nimport { loadProduct } from '../../store/actions/productDetails';\nimport { likeProduct, unlikeProduct } from '../../store/actions/liked';\nimport { showToast, hideToast } from '../../store/actions/toast';\n\nimport {\n  addProductToCart,\n  removeProductFromCart,\n} from '../../store/actions/cart';\n\nimport './styles.css';\n\nconst ProductDetails = ({\n  productDetails,\n  loadProduct,\n  match,\n  addProductToCart,\n  removeProductFromCart,\n  likeProduct,\n  unlikeProduct,\n  cart,\n  liked,\n  showToast,\n  hideToast,\n}) => {\n  const { product, isLoading, error } = productDetails;\n\n  useEffect(() => {\n    loadProduct(match.params.id);\n  }, []);\n\n  function toggleLike() {\n    if (!isLiked()) {\n      likeProduct(product);\n      showToast({ title: 'Notification', text: 'You liked the product.' });\n    } else {\n      unlikeProduct(product);\n      showToast({ title: 'Notification', text: 'You unliked the product.' });\n    }\n  }\n\n  function isLiked() {\n    const isLiked =\n      liked.likedProducts.length > 0 &&\n      liked.likedProducts.find(p => p.id === product.id);\n    return isLiked;\n  }\n\n  function toggleAddProduct() {\n    if (!isAdded()) {\n      addProductToCart(product);\n      showToast({\n        title: 'Notification',\n        text: 'You added product to the cart.',\n      });\n    } else {\n      removeProductFromCart(product);\n      showToast({\n        title: 'Notification',\n        text: 'You removed product from the cart.',\n      });\n    }\n  }\n\n  function isAdded() {\n    const isAdded =\n      cart.cartProducts.length > 0 &&\n      cart.cartProducts.find(p => p.product.id === product.id);\n    return isAdded;\n  }\n  if (error) return <Redirect to={'/error'} />;\n  if (isLoading) return <MySpinner key={0} text={'Loading...'} />;\n\n  //console.log(productDetails);\n  return (\n    product && (\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <aside className=\"col-sm-5 border-right\">\n            <div>\n              <img\n                className=\"main-img d-md-none\"\n                src={require(`../../static/products/${product.image}`)}\n              />\n              <ReactImageMagnify\n                {...{\n                  smallImage: {\n                    alt: product.shortDescription,\n                    isFluidWidth: true,\n                    src: require(`../../static/products/${product.image}`),\n                  },\n                  largeImage: {\n                    src: require(`../../static/products/${product.image}`),\n                    width: 1200,\n                    height: 1200,\n                  },\n                  enlargedImageContainerStyle: {\n                    zIndex: 9,\n                    backgroundColor: 'white',\n                    objectFit: 'cover',\n                  },\n                  enlargedImageContainerDimensions: {\n                    width: '150%',\n                    height: '120%',\n                  },\n                  className: 'd-none d-md-block ',\n                }}\n              />\n            </div>\n          </aside>\n          <aside className=\"col-sm-7\">\n            <article className=\"p-5\">\n              <h3 className=\"title mb-3\">{product.name}</h3>\n\n              <div className=\"mb-3\">\n                <var className=\"price h3 text-success\">\n                  <span className=\"currency\">US $</span>\n                  <span className=\"num\">{product.price.toFixed(2)}</span>\n                </var>\n              </div>\n              <dl>\n                {/* <dt>Description</dt> */}\n                <dd>\n                  <p>{product.description}</p>\n                </dd>\n              </dl>\n              <dl className=\"row\">\n                <dt className=\"col-sm-3\">Model#</dt>\n                <dd className=\"col-sm-9\">{product.modelNum}</dd>\n\n                <dt className=\"col-sm-3\">Color</dt>\n                <dd className=\"col-sm-9\">{product.color}</dd>\n\n                <dt className=\"col-sm-3\">Delivery</dt>\n                <dd className=\"col-sm-9\">{product.delivery}</dd>\n              </dl>\n\n              <hr />\n              <div className=\"row\">\n                <div className=\"col-sm-5\">\n                  <dl className=\"dlist-inline\">\n                    <dt>Weight: </dt>\n                    <dd className=\"pl-2\">\n                      <span className=\"form-check-label\">{`${product.weight} g`}</span>\n                    </dd>\n                  </dl>\n                </div>\n                <div className=\"col-sm-7\">\n                  <dl className=\"dlist-inline\">\n                    <dt>Size: </dt>\n                    <dd>\n                      <span className=\"form-check-label\">{`${product.size} cm`}</span>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n              <hr />\n              <button\n                onClick={toggleLike}\n                className={isLiked() ? 'btn btn-success' : 'btn btn-primary'}\n              >\n                {isLiked() ? 'Liked' : 'Like it'}\n              </button>\n              <button\n                onClick={toggleAddProduct}\n                className={\n                  !isAdded()\n                    ? 'btn  btn-outline-primary'\n                    : 'btn  btn-outline-danger'\n                }\n              >\n                <i className=\"fa fa-shopping-cart\"></i>{' '}\n                {!isAdded() ? 'Add to Cart' : 'Added to Cart'}\n              </button>\n            </article>\n          </aside>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default connect(\n  state => ({\n    productDetails: state.productDetailsReducer,\n    cart: state.cartReducer,\n    liked: state.likedReducer,\n  }),\n  {\n    loadProduct,\n    addProductToCart,\n    removeProductFromCart,\n    likeProduct,\n    unlikeProduct,\n    showToast,\n    hideToast,\n  },\n)(withRouter(ProductDetails));\n"]},"metadata":{},"sourceType":"module"}