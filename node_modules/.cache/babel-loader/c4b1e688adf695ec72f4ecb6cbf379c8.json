{"ast":null,"code":"import _slicedToArray from \"/Applications/MAMP/htdocs/eshop-page/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/eshop-page/src/components/Product/Product.js\";\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Link } from 'react-router-dom';\nimport './styles.css';\nimport { likeProduct, unlikeProduct } from '../../store/actions/liked';\nimport { addProductToCart, removeProductFromCart } from '../../store/actions/cart';\n\nconst Product = ({\n  product,\n  likeProduct,\n  unlikeProduct,\n  addProductToCart,\n  removeProductFromCart,\n  liked,\n  cart\n}) => {\n  const id = product.id,\n        name = product.name,\n        price = product.price,\n        image = product.image,\n        shortDescription = product.shortDescription,\n        description = product.description;\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const counter = useRef(0);\n\n  function imageLoaded() {\n    counter.current += 1;\n\n    if (counter.current >= 1) {\n      setIsLoading(false);\n    }\n  }\n\n  function toggleLike() {\n    if (!isLiked()) {\n      likeProduct(product);\n    } else {\n      unlikeProduct(product);\n    }\n  }\n\n  function isLiked() {\n    const isLiked = liked.likedProducts.length > 0 && liked.likedProducts.find(p => p.id === product.id);\n    return isLiked;\n  }\n\n  function toggleAddProduct() {\n    if (!isAdded()) {\n      addProductToCart(product);\n    } else {\n      removeProductFromCart(product);\n    } //console.log(cart.cartProducts);\n\n  }\n\n  function isAdded() {\n    const isAdded = cart.cartProducts.length > 0 && cart.cartProducts.find(p => p.product.id === product.id);\n    return isAdded;\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Col, {\n    xs: 12,\n    sm: 6,\n    lg: 4,\n    xl: 3,\n    key: 0,\n    className: \"container\",\n    style: {\n      display: isLoading ? 'block' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row justify-content-center align-self-center h-300\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    animation: \"border\",\n    className: \"align-self-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }))), React.createElement(Col, {\n    xs: 12,\n    sm: 6,\n    xl: 3,\n    lg: 4,\n    className: \"mb-3\",\n    style: {\n      display: isLoading ? 'none' : 'block'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"product-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    onClick: toggleLike,\n    className: isLiked() ? 'fa fa-heart text-success like' : 'fa fa-heart text-danger like',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/product-details/\".concat(id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Card.Img, {\n    className: \"product-img\",\n    variant: \"top\",\n    src: require(\"../../static/products/\".concat(image)),\n    alt: \"Vans\",\n    onLoad: imageLoaded,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(Card.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, name), React.createElement(\"h6\", {\n    className: \"card-subtitle mb-2 text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Description: \", shortDescription), React.createElement(Card.Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, description), React.createElement(\"div\", {\n    className: \"buy d-flex justify-content-between align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"price text-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"$\", price.toFixed(2))), React.createElement(Button, {\n    variant: !isAdded() ? 'outline-primary' : 'danger',\n    onClick: toggleAddProduct,\n    className: \"add-to-cart mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), ' ', !isAdded() ? 'Add to Cart' : 'Added to Cart'))))));\n};\n\nexport default connect(state => ({\n  liked: state.likedReducer,\n  cart: state.cartReducer\n}), {\n  likeProduct,\n  unlikeProduct,\n  addProductToCart,\n  removeProductFromCart\n})(Product);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/eshop-page/src/components/Product/Product.js"],"names":["React","useState","useRef","connect","Card","Button","Col","Spinner","Link","likeProduct","unlikeProduct","addProductToCart","removeProductFromCart","Product","product","liked","cart","id","name","price","image","shortDescription","description","isLoading","setIsLoading","counter","imageLoaded","current","toggleLike","isLiked","likedProducts","length","find","p","toggleAddProduct","isAdded","cartProducts","display","require","toFixed","state","likedReducer","cartReducer"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\n\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Link } from 'react-router-dom';\n\nimport './styles.css';\n\nimport { likeProduct, unlikeProduct } from '../../store/actions/liked';\nimport {\n  addProductToCart,\n  removeProductFromCart,\n} from '../../store/actions/cart';\n\nconst Product = ({\n  product,\n  likeProduct,\n  unlikeProduct,\n  addProductToCart,\n  removeProductFromCart,\n  liked,\n  cart,\n}) => {\n  const { id, name, price, image, shortDescription, description } = product;\n  const [isLoading, setIsLoading] = useState(true);\n  const counter = useRef(0);\n\n  function imageLoaded() {\n    counter.current += 1;\n    if (counter.current >= 1) {\n      setIsLoading(false);\n    }\n  }\n\n  function toggleLike() {\n    if (!isLiked()) {\n      likeProduct(product);\n    } else {\n      unlikeProduct(product);\n    }\n  }\n\n  function isLiked() {\n    const isLiked =\n      liked.likedProducts.length > 0 &&\n      liked.likedProducts.find(p => p.id === product.id);\n    return isLiked;\n  }\n\n  function toggleAddProduct() {\n    if (!isAdded()) {\n      addProductToCart(product);\n    } else {\n      removeProductFromCart(product);\n    }\n    //console.log(cart.cartProducts);\n  }\n\n  function isAdded() {\n    const isAdded =\n      cart.cartProducts.length > 0 &&\n      cart.cartProducts.find(p => p.product.id === product.id);\n    return isAdded;\n  }\n\n  return (\n    <>\n      <Col\n        xs={12}\n        sm={6}\n        lg={4}\n        xl={3}\n        key={0}\n        className=\"container\"\n        style={{ display: isLoading ? 'block' : 'none' }}\n      >\n        <div className=\"row justify-content-center align-self-center h-300\">\n          <Spinner animation=\"border\" className=\"align-self-center\" />\n        </div>\n      </Col>\n\n      <Col\n        xs={12}\n        sm={6}\n        xl={3}\n        lg={4}\n        className=\"mb-3\"\n        style={{ display: isLoading ? 'none' : 'block' }}\n      >\n        <Card className=\"product-card\">\n          <i\n            onClick={toggleLike}\n            className={\n              isLiked()\n                ? 'fa fa-heart text-success like'\n                : 'fa fa-heart text-danger like'\n            }\n          ></i>\n          <Link to={`/product-details/${id}`}>\n            <Card.Img\n              className=\"product-img\"\n              variant=\"top\"\n              src={require(`../../static/products/${image}`)}\n              alt=\"Vans\"\n              onLoad={imageLoaded}\n            />\n          </Link>\n          <Card.Body>\n            <h4 className=\"card-title\">{name}</h4>\n            <h6 className=\"card-subtitle mb-2 text-muted\">\n              Description: {shortDescription}\n            </h6>\n            <Card.Text>{description}</Card.Text>\n\n            <div className=\"buy d-flex justify-content-between align-items-center\">\n              <div className=\"price text-success\">\n                <h5 className=\"mt-4\">${price.toFixed(2)}</h5>\n              </div>\n              <Button\n                variant={!isAdded() ? 'outline-primary' : 'danger'}\n                onClick={toggleAddProduct}\n                className=\"add-to-cart mt-3\"\n              >\n                <i className=\"fa fa-shopping-cart\"></i>{' '}\n                {!isAdded() ? 'Add to Cart' : 'Added to Cart'}\n              </Button>\n            </div>\n          </Card.Body>\n        </Card>\n      </Col>\n    </>\n  );\n};\n\nexport default connect(\n  state => ({\n    liked: state.likedReducer,\n    cart: state.cartReducer,\n  }),\n  {\n    likeProduct,\n    unlikeProduct,\n    addProductToCart,\n    removeProductFromCart,\n  },\n)(Product);\n"]},"metadata":{},"sourceType":"module"}